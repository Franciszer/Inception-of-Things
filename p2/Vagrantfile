# single VM for p2
VM_NAME   = 'frthierrS'
VM_IP     = '192.168.56.130'
VM_BOX    = 'ubuntu/jammy64'
VM_CPUS   = '2'
VM_RAM_MB = '2048'

Vagrant.configure('2') do |config|
  config.vm.box = VM_BOX
  config.vm.define VM_NAME do |vm|
    vm.vm.hostname = VM_NAME
    vm.vm.network 'private_network', ip: VM_IP

    vm.vm.provider 'virtualbox' do |vb|
      vb.name   = VM_NAME
      vb.cpus   = VM_CPUS
      vb.memory = VM_RAM_MB
    end

    # Keep the repo folder mounted so p2-app.yaml is available at /vagrant/p2-app.yaml
    config.vm.synced_folder '.', '/vagrant', type: 'virtualbox'

    vm.vm.provision 'shell', path: 'scripts/bootstrap_vm.sh', args: [VM_IP]
  end
end
